{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{O2ls:function(e,a,r){\"use strict\";r.r(a);var n=r(\"vYYK\"),t=r(\"ln6h\"),o=r.n(t),s=r(\"9Jkg\"),i=r.n(s),u=r(\"Qetd\"),l=r.n(u),c=r(\"q1tI\"),p=r.n(c),m=r(\"469l\"),d=r(\"Z3vd\"),b=r(\"5CWz\"),w=r(\"r9w1\"),h=r(\"ZGBi\"),f=r(\"VmPI\"),g=r(\"hlie\"),v=r(\"tRbT\"),x=r(\"hlFM\"),y=r(\"w4+p\"),j=r.n(y),O=r(\"ofer\"),k=r(\"R/WZ\"),C=r(\"Ji2X\"),N=r(\"SMlj\"),S=r(\"vcXL\"),T=r.n(S),W=p.a.createElement;function P(){return W(O.a,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},\"Copyright \\xa9 \",W(g.a,{color:\"inherit\",href:\"https://material-ui.com/\"},\"Your Website\"),\" \",(new Date).getFullYear(),\".\")}var _=Object(k.a)((function(e){return{\"@global\":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:\"100%\",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));a.default=function(){var e,a,r=_(),t=Object(c.useState)({username:\"\",password:\"\",error:\"\"}),s=t[0],u=t[1];return W(C.a,{component:\"main\",maxWidth:\"xs\"},W(b.a,null),W(\"div\",{className:r.paper},W(m.a,{className:r.avatar},W(j.a,null)),W(O.a,{component:\"h1\",variant:\"h5\"},\"Sign in\"),W(\"form\",{className:r.form,noValidate:!0,onSubmit:function(e){var a,r,n,t,c,p;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e.preventDefault(),u(l()({},s,{error:\"\"})),a=s.username,r=s.password,\"/api/auth/signin\",m.prev=5,m.next=8,o.a.awrap(T()(\"/api/auth/signin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:i()({username:a,password:r})}));case 8:if(200!==(n=m.sent).status){m.next=18;break}return m.next=12,o.a.awrap(n.json());case 12:return t=m.sent,c=t.token,m.next=16,o.a.awrap(Object(N.a)({token:c}));case 16:m.next=24;break;case 18:return console.log(\"Login failed.\"),m.next=21,o.a.awrap(n.json());case 21:throw p=m.sent,p.response;case 24:m.next=30;break;case 26:m.prev=26,m.t0=m.catch(5),console.error(\"You have an error in your code or there are Network issues.\",m.t0),u(l()({},s,{error:m.t0}));case 30:case\"end\":return m.stop()}}),null,null,[[5,26]])}},W(w.a,(e={variant:\"outlined\",margin:\"normal\",required:!0,fullWidth:!0,name:\"username\",value:s.username,onChange:function(e){return u(l()({},s,{username:e.target.value}))},label:\"Username\"},Object(n.a)(e,\"name\",\"email\"),Object(n.a)(e,\"autoComplete\",\"username\"),Object(n.a)(e,\"autoFocus\",!0),e)),W(w.a,(a={variant:\"outlined\",margin:\"normal\",required:!0,fullWidth:!0,id:\"password\",name:\"password\",value:s.password,onChange:function(e){return u(l()({},s,{password:e.target.value}))},placeholder:\"Password\"},Object(n.a)(a,\"required\",!0),Object(n.a)(a,\"label\",\"Password\"),Object(n.a)(a,\"type\",\"password\"),Object(n.a)(a,\"autoComplete\",\"current-password\"),a)),W(h.a,{control:W(f.a,{value:\"remember\",color:\"primary\"}),label:\"Remember me\"}),W(d.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:r.submit},\"Sign In\"),W(v.a,{container:!0},W(v.a,{item:!0,xs:!0},W(g.a,{href:\"#\",variant:\"body2\"},\"Forgot password?\")),W(v.a,{item:!0},W(g.a,{href:\"/register\",variant:\"body2\"},\"Don't have an account? Sign Up\"))),s.error&&W(\"p\",{className:\"error\"},\"Error: \",s.error))),W(x.a,{mt:8},W(P,null)))}},u6Hu:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return r(\"O2ls\")}])},vcXL:function(e,a,r){\"use strict\";var n=self.fetch.bind(self);e.exports=n,e.exports.default=e.exports}},[[\"u6Hu\",0,3,1,2,4,5,7,8,13,16,18]]]);"}