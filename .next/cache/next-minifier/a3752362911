{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{uRSO:function(e,n,a){\"use strict\";a.r(n);var t=a(\"0iUn\"),o=a(\"sLSF\"),r=a(\"MI3g\"),i=a(\"a7VT\"),s=a(\"AT/M\"),u=a(\"Tit0\"),l=a(\"vYYK\"),c=a(\"q1tI\"),p=a.n(c),f=a(\"aTGW\"),m=(a(\"TtPJ\"),a(\"7RZS\")),d=a.n(m),h=a(\"O5a3\"),b=a.n(h),g=a(\"GUIp\"),v=a.n(g),O=a(\"lnDc\"),j=a.n(O),T=a(\"gtPb\"),w=a.n(T),y=a(\"LPyF\"),I=a.n(y),M=(a(\"sQsj\"),a(\"NQWy\")),P=a.n(M),R=a(\"m6bJ\"),k=a.n(R),F=a(\"Tzdq\"),S=a.n(F),A=a(\"t+dt\"),J=a(\"obyI\"),U=p.a.createElement;Object(f.registerPlugin)(w.a,I.a,P.a,d.a,b.a,v.a,j.a,S.a,k.a);var C=function(e){function n(e){var a;return Object(t.a)(this,n),a=Object(r.a)(this,Object(i.a)(n).call(this,e)),Object(l.a)(Object(s.a)(a),\"componentDidMount\",(function(){if(a.props.user.avatar){var e=[];e.push({source:\"\".concat(J.URL,\"/uploadedimages/profile/\").concat(a.props.user.avatar),options:{type:\"local\"}}),console.log(e),a.setState({files:e})}})),Object(l.a)(Object(s.a)(a),\"makeid\",(function(e){for(var n=\"\",a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",t=a.length,o=0;o<e;o++)n+=a.charAt(Math.floor(Math.random()*t));return n})),a.state={files:[]},a}return Object(u.a)(n,e),Object(o.a)(n,[{key:\"handleInit\",value:function(){console.log(\"FilePond instance has initialised\")}},{key:\"render\",value:function(){var e=this;return U(\"div\",{className:\"App\"},U(f.FilePond,{ref:this.props.setRef,files:this.state.files,allowMultiple:!1,name:\"file\",maxFiles:1,server:{process:{url:\"/api/dashboard/file/profileupload\",method:\"POST\",onload:function(n){console.log(n);var a={name:n,username:e.props.user.username};A.l(a)},onerror:function(e){return e.data},ondata:function(n){return n.append(\"username\",e.props.user.username),n}},load:function(e,n){fetch(e).then((function(e){return e.blob()})).then(n)},remove:function(n,a,t){var o={username:e.props.user.username};A.b(o),t(\"oh my goodness\"),a()}},imageResizeMode:\"cover\",allowImageTransform:!0,allowImageCrop:!0,imageCropAspectRatio:\"1:1\",oninit:function(){return e.handleInit()},imageTransformOutputQuality:65,imageTransformOutputMimeType:\"image/jpeg\",fileRenameFunction:function(n){return e.makeid(25)+n.extension},onupdatefiles:function(n){e.setState({files:n.map((function(e){return e.file}))})},onDrop:this.props.handleUploadImages}))}}]),n}(p.a.Component);n.default=C}}]);"}