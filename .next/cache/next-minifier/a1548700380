{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{uRSO:function(e,n,a){\"use strict\";a.r(n);var t=a(\"0iUn\"),o=a(\"sLSF\"),r=a(\"MI3g\"),i=a(\"a7VT\"),s=a(\"AT/M\"),u=a(\"Tit0\"),l=a(\"vYYK\"),c=a(\"7RZS\"),p=a.n(c),f=a(\"O5a3\"),m=a.n(f),d=a(\"GUIp\"),h=a.n(d),b=a(\"lnDc\"),g=a.n(b),v=a(\"gtPb\"),O=a.n(v),j=a(\"LPyF\"),T=a.n(j),w=(a(\"sQsj\"),a(\"NQWy\")),y=a.n(w),I=a(\"m6bJ\"),M=a.n(I),P=a(\"Tzdq\"),R=a.n(P),k=(a(\"TtPJ\"),a(\"q1tI\")),F=a.n(k),S=a(\"aTGW\"),A=a(\"obyI\"),J=a(\"t+dt\"),U=F.a.createElement;Object(S.registerPlugin)(O.a,T.a,y.a,p.a,m.a,h.a,g.a,R.a,M.a);var C=function(e){function n(e){var a;return Object(t.a)(this,n),a=Object(r.a)(this,Object(i.a)(n).call(this,e)),Object(l.a)(Object(s.a)(a),\"componentDidMount\",(function(){if(a.props.user.avatar){var e=[];e.push({source:\"\".concat(A.URL,\"/uploadedimages/profile/\").concat(a.props.user.avatar),options:{type:\"local\"}}),a.setState({files:e})}})),Object(l.a)(Object(s.a)(a),\"makeid\",(function(e){for(var n=\"\",a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",t=a.length,o=0;o<e;o++)n+=a.charAt(Math.floor(Math.random()*t));return n})),a.state={files:[]},a}return Object(u.a)(n,e),Object(o.a)(n,[{key:\"handleInit\",value:function(){console.log(\"FilePond instance has initialised\")}},{key:\"render\",value:function(){var e=this;return U(\"div\",{className:\"App\"},U(S.FilePond,{ref:this.props.setRef,files:this.state.files,allowMultiple:!1,name:\"file\",maxFiles:1,server:{process:{url:\"/api/dashboard/file/profileupload\",method:\"POST\",onload:function(n){var a={name:n,username:e.props.user.username};J.l(a)},onerror:function(e){return e.data},ondata:function(n){return n.append(\"username\",e.props.user.username),n}},load:function(e,n){fetch(e).then((function(e){return e.blob()})).then(n)},remove:function(n,a,t){var o={username:e.props.user.username};J.b(o),t(\"oh my goodness\"),a()}},imageResizeMode:\"cover\",allowImageTransform:!0,allowImageCrop:!0,imageCropAspectRatio:\"1:1\",oninit:function(){return e.handleInit()},imageTransformOutputQuality:65,imageTransformOutputMimeType:\"image/jpeg\",fileRenameFunction:function(n){return e.makeid(25)+n.extension},onupdatefiles:function(n){e.setState({files:n.map((function(e){return e.file}))})},onDrop:this.props.handleUploadImages}))}}]),n}(F.a.Component);n.default=C}}]);"}