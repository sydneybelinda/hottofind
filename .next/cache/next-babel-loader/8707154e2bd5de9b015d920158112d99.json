{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\src\\\\hottofindtest\\\\components\\\\postPreview.js\";\nvar __jsx = React.createElement;\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Person from \"@material-ui/icons/Person\";\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\";\nimport Room from \"@material-ui/icons/Room\";\nimport * as React from \"react\";\nimport Img from \"react-image\"; //import ImageExists from 'image-exists';\n\nimport Moment from \"react-moment\"; // import Button from '../components/Button';\n\nfunction Capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nconst styles = theme => ({\n  gi: {\n    paddingTop: \"15px\",\n    paddingBottom: \"15px\"\n  },\n  imageWrap: {\n    width: \"100%\",\n    paddingBottom: \"100%\",\n    position: \"relative\",\n    borderTop: \"1px solid silver\",\n    borderBottom: \"1px solid silver\",\n    overflow: \"hidden\",\n    width: \"30%\",\n    display: \"inline-block\",\n    paddingBottom: \"30%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: \"100%\",\n      display: \"block\",\n      paddingBottom: \"69%\",\n      borderTop: \"1px solid silver\",\n      borderBottom: \"1px solid silver\"\n    }\n  },\n  cat: {\n    fontSize: \"11px\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"400\",\n    lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    padding: \"16px\",\n    paddingBottom: \"2px\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    paddingTop: \"8px\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\"\n  },\n  date: {\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\",\n    paddingBottom: \"8px\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"400\",\n    fontSize: \"10px\",\n    lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    [theme.breakpoints.up(\"sm\")]: {\n      fontSize: \"11px\"\n    }\n  },\n  cardLeft: {\n    flex: \"1 100%\",\n    background: \"#ffffff\",\n    textAlign: \"right\",\n    [theme.breakpoints.up(\"sm\")]: {\n      background: \"#e6e6e6\",\n      textAlign: \"left\",\n      width: \"100%\"\n    }\n  },\n  cardRight: {\n    flex: \"0\",\n    padding: \"16px\",\n    background: \"#efefef\"\n  },\n  cHeader: {\n    display: \"flex\",\n    position: \"absolute\",\n    left: \"30%\",\n    right: \"16px\",\n    [theme.breakpoints.up(\"sm\")]: {\n      position: \"relative\",\n      left: \"auto\",\n      right: \"auto\"\n    }\n  },\n  price: {\n    fontSize: \"12px\"\n  },\n  views: {\n    color: \"black\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"400\",\n    fontSize: \"11px\",\n    lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    position: \"absolute\",\n    right: \"0\",\n    bottom: \"0\",\n    zIndex: \"99\",\n    padding: \"5px\",\n    margin: \"4px\",\n    background: \"#ffffffcc\",\n    borderRadius: \"4px\"\n  },\n  viewIcon: {\n    height: \"11px\",\n    width: \"11px\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    lineHeight: \"1.43\"\n  },\n  title: {\n    fontSize: \"16px\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"500\",\n    // lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    color: \"black\"\n  },\n  owner: {\n    // paddingLeft: '16px',\n    //  paddingBottom: '16px',\n    color: \"rgba(0, 0, 0, 0.54)\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"400\",\n    fontSize: \"11px\",\n    lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    flex: \"1\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    textAlign: \"left\"\n  },\n  personIcon: {\n    height: \"11px\",\n    width: \"11px\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    lineHeight: \"1.43\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    width: \"11px\",\n    height: \"11px\",\n    lineHeight: \"1.43\",\n    position: \"relative\",\n    top: \"2px\",\n    marginRight: \"5px\"\n  },\n  location: {\n    // paddingLeft: '16px',\n    //  paddingBottom: '16px',\n    color: \"rgba(0, 0, 0, 0.54)\",\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: \"400\",\n    fontSize: \"11px\",\n    lineHeight: \"1.43\",\n    letterSpacing: \"0.01071em\",\n    flex: \"1\",\n    textAlign: \"right\"\n  },\n  roomIcon: {\n    height: \"11px\",\n    width: \"11px\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    lineHeight: \"1.43\",\n    color: \"rgba(0, 0, 0, 0.54)\",\n    width: \"11px\",\n    height: \"11px\",\n    lineHeight: \"1.43\",\n    position: \"relative\",\n    top: \"2px\",\n    marginRight: \"5px\"\n  },\n  cardBottom: {\n    display: \"flex\"\n  },\n  card: {\n    boxShadow: \"0 0px 26px 2px rgba(0, 0, 0, 0.14), 0 6px 12px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\"\n  },\n  price: {\n    position: \"absolute\",\n    right: \"0\",\n    padding: \"6px\",\n    zIndex: \"99\",\n    color: \"white\",\n    background: \"#3b4f63de\",\n    borderRadius: \"4px\",\n    margin: \"4px\"\n  },\n  content: {\n    width: \"70%\",\n    float: \"right\",\n    marginTop: \"29px\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: \"100%\",\n      float: \"none\",\n      marginTop: \"0\"\n    }\n  }\n});\n\nclass PostPreview extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_handleViewPost\", id => {\n      window.location.href = `/post/${id}`;\n    });\n\n    _defineProperty(this, \"addDefaultSrc\", ev => {\n      ev.target.src = \"/uploadedimages/noimage.jpg\";\n      console.log(ev.target);\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      post\n    } = this.props;\n    var image;\n\n    if (post.files[0]) {\n      image = \"/uploadedimages/\" + post.files[0].name; // if (!fs.existsSync(image)) {\n      //  image = \"/uploadedimages/noimage.jpg\";\n      // }\n    } else image = \"/uploadedimages/noimage.jpg\"; //const src = URL + image\n\n\n    const dateToFormat = this.props.post.updatedAt;\n    return (//   <GridItem item xs={6} sm={3} className={classes.gi}>\n      __jsx(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.cHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.cardLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.cat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, this.props.post.catindex, \" > \", this.props.post.keyindex), __jsx(\"div\", {\n        className: classes.date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, __jsx(Moment, {\n        date: dateToFormat,\n        format: \"D MMMM YY - HH:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      })))), __jsx(CardActionArea, {\n        onClick: () => this._handleViewPost(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.imageWrap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, this.props.post.price ? __jsx(\"div\", {\n        className: classes.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"$\", this.props.post.price) : \"\", __jsx(\"div\", {\n        className: classes.views,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, __jsx(RemoveRedEye, {\n        className: classes.viewIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), \" \", this.props.post.views), __jsx(Img, {\n        className: \"img-responsive\",\n        src: [image, \"/uploadedimages/noimage.jpg\"],\n        alt: this.props.post.title,\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })), __jsx(CardContent, {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, __jsx(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h3\",\n        noWrap: true,\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, post.title ? post.title : \"untitled\"), __jsx(\"div\", {\n        className: classes.cardBottom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.owner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, __jsx(Person, {\n        className: classes.personIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }), \" \", this.props.post.owner), __jsx(\"div\", {\n        className: classes.location,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, __jsx(Room, {\n        className: classes.roomIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), \" \", this.props.post.cities ? Capitalize(this.props.post.cities) : \"\")))))\n    );\n  }\n\n}\n\nexport default withStyles(styles)(PostPreview);","map":{"version":3,"sources":["C:/src/hottofindtest/components/postPreview.js"],"names":["Card","CardActionArea","CardContent","withStyles","Typography","Person","RemoveRedEye","Room","React","Img","Moment","Capitalize","str","charAt","toUpperCase","slice","styles","theme","gi","paddingTop","paddingBottom","imageWrap","width","position","borderTop","borderBottom","overflow","display","breakpoints","up","cat","fontSize","fontFamily","fontWeight","lineHeight","letterSpacing","padding","color","whiteSpace","textOverflow","date","paddingLeft","paddingRight","cardLeft","flex","background","textAlign","cardRight","cHeader","left","right","price","views","bottom","zIndex","margin","borderRadius","viewIcon","height","title","owner","personIcon","top","marginRight","location","roomIcon","cardBottom","card","boxShadow","content","float","marginTop","PostPreview","Component","id","window","href","ev","target","src","console","log","render","classes","props","post","image","files","name","dateToFormat","updatedAt","catindex","keyindex","_handleViewPost","transform","cities"],"mappings":"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","sourcesContent":["import Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Person from \"@material-ui/icons/Person\";\r\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\";\r\nimport Room from \"@material-ui/icons/Room\";\r\nimport * as React from \"react\";\r\nimport Img from \"react-image\";\r\n//import ImageExists from 'image-exists';\r\nimport Moment from \"react-moment\";\r\n\r\n// import Button from '../components/Button';\r\n\r\nfunction Capitalize(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\nconst styles = theme => ({\r\n  gi: {\r\n    paddingTop: \"15px\",\r\n    paddingBottom: \"15px\"\r\n  },\r\n  imageWrap: {\r\n    width: \"100%\",\r\n    paddingBottom: \"100%\",\r\n    position: \"relative\",\r\n    borderTop: \"1px solid silver\",\r\n    borderBottom: \"1px solid silver\",\r\n    overflow: \"hidden\",\r\n    width: \"30%\",\r\n    display: \"inline-block\",\r\n    paddingBottom: \"30%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"100%\",\r\n      display: \"block\",\r\n      paddingBottom: \"69%\",\r\n      borderTop: \"1px solid silver\",\r\n      borderBottom: \"1px solid silver\"\r\n    }\r\n  },\r\n  cat: {\r\n    fontSize: \"11px\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    padding: \"16px\",\r\n    paddingBottom: \"2px\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    paddingTop: \"8px\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    textOverflow: \"ellipsis\"\r\n  },\r\n  date: {\r\n    paddingLeft: \"16px\",\r\n    paddingRight: \"16px\",\r\n    paddingBottom: \"8px\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"400\",\r\n    fontSize: \"10px\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      fontSize: \"11px\"\r\n    }\r\n  },\r\n  cardLeft: {\r\n    flex: \"1 100%\",\r\n    background: \"#ffffff\",\r\n    textAlign: \"right\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      background: \"#e6e6e6\",\r\n      textAlign: \"left\",\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  cardRight: {\r\n    flex: \"0\",\r\n    padding: \"16px\",\r\n    background: \"#efefef\"\r\n  },\r\n  cHeader: {\r\n    display: \"flex\",\r\n    position: \"absolute\",\r\n    left: \"30%\",\r\n    right: \"16px\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"relative\",\r\n      left: \"auto\",\r\n      right: \"auto\"\r\n    }\r\n  },\r\n  price: {\r\n    fontSize: \"12px\"\r\n  },\r\n  views: {\r\n    color: \"black\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"400\",\r\n    fontSize: \"11px\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    position: \"absolute\",\r\n    right: \"0\",\r\n    bottom: \"0\",\r\n    zIndex: \"99\",\r\n    padding: \"5px\",\r\n    margin: \"4px\",\r\n    background: \"#ffffffcc\",\r\n    borderRadius: \"4px\"\r\n  },\r\n  viewIcon: {\r\n    height: \"11px\",\r\n    width: \"11px\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    lineHeight: \"1.43\"\r\n  },\r\n  title: {\r\n    fontSize: \"16px\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"500\",\r\n    // lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    color: \"black\"\r\n  },\r\n  owner: {\r\n    // paddingLeft: '16px',\r\n    //  paddingBottom: '16px',\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"400\",\r\n    fontSize: \"11px\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    flex: \"1\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    textOverflow: \"ellipsis\",\r\n    textAlign: \"left\"\r\n  },\r\n  personIcon: {\r\n    height: \"11px\",\r\n    width: \"11px\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    lineHeight: \"1.43\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    width: \"11px\",\r\n    height: \"11px\",\r\n    lineHeight: \"1.43\",\r\n    position: \"relative\",\r\n    top: \"2px\",\r\n    marginRight: \"5px\"\r\n  },\r\n  location: {\r\n    // paddingLeft: '16px',\r\n    //  paddingBottom: '16px',\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: \"400\",\r\n    fontSize: \"11px\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    flex: \"1\",\r\n    textAlign: \"right\"\r\n  },\r\n  roomIcon: {\r\n    height: \"11px\",\r\n    width: \"11px\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    lineHeight: \"1.43\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    width: \"11px\",\r\n    height: \"11px\",\r\n    lineHeight: \"1.43\",\r\n    position: \"relative\",\r\n    top: \"2px\",\r\n    marginRight: \"5px\"\r\n  },\r\n  cardBottom: {\r\n    display: \"flex\"\r\n  },\r\n  card: {\r\n    boxShadow:\r\n      \"0 0px 26px 2px rgba(0, 0, 0, 0.14), 0 6px 12px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\"\r\n  },\r\n  price: {\r\n    position: \"absolute\",\r\n    right: \"0\",\r\n    padding: \"6px\",\r\n    zIndex: \"99\",\r\n    color: \"white\",\r\n    background: \"#3b4f63de\",\r\n    borderRadius: \"4px\",\r\n    margin: \"4px\"\r\n  },\r\n  content: {\r\n    width: \"70%\",\r\n    float: \"right\",\r\n    marginTop: \"29px\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"100%\",\r\n      float: \"none\",\r\n      marginTop: \"0\"\r\n    }\r\n  }\r\n});\r\n\r\nclass PostPreview extends React.Component {\r\n  _handleViewPost = id => {\r\n    window.location.href = `/post/${id}`;\r\n  };\r\n\r\n  addDefaultSrc = ev => {\r\n    ev.target.src = \"/uploadedimages/noimage.jpg\";\r\n    console.log(ev.target);\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { post } = this.props;\r\n\r\n    var image;\r\n\r\n    if (post.files[0]) {\r\n      image = \"/uploadedimages/\" + post.files[0].name;\r\n\r\n      // if (!fs.existsSync(image)) {\r\n      //  image = \"/uploadedimages/noimage.jpg\";\r\n      // }\r\n    } else image = \"/uploadedimages/noimage.jpg\";\r\n\r\n    //const src = URL + image\r\n\r\n    const dateToFormat = this.props.post.updatedAt;\r\n\r\n    return (\r\n      //   <GridItem item xs={6} sm={3} className={classes.gi}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.cHeader}>\r\n          <div className={classes.cardLeft}>\r\n            <div className={classes.cat}>\r\n              {this.props.post.catindex} > {this.props.post.keyindex}\r\n            </div>\r\n            <div className={classes.date}>\r\n              <Moment date={dateToFormat} format=\"D MMMM YY - HH:mm\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <CardActionArea onClick={() => this._handleViewPost(post.id)}>\r\n          <div className={classes.imageWrap}>\r\n            {this.props.post.price ? (\r\n              <div className={classes.price}>${this.props.post.price}</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div className={classes.views}>\r\n              <RemoveRedEye className={classes.viewIcon} />{\" \"}\r\n              {this.props.post.views}\r\n            </div>\r\n            {/* <CardMedia\r\n                component=\"img\"\r\n                alt={this.props.post.title}\r\n                height=\"100%\"\r\n                image={image}\r\n                title={this.props.post.title}\r\n                style={{ position: \"absolute\", top:'50%', transform: 'translateY(-50%)' }}\r\n                onError={this.addDefaultSrc}\r\n              /> */}\r\n            <Img\r\n              className=\"img-responsive\"\r\n              src={[image, \"/uploadedimages/noimage.jpg\"]}\r\n              alt={this.props.post.title}\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                transform: \"translateY(-50%)\",\r\n                width: \"100%\"\r\n              }}\r\n            />\r\n          </div>\r\n          <CardContent className={classes.content}>\r\n            <Typography\r\n              gutterBottom\r\n              variant=\"h5\"\r\n              component=\"h3\"\r\n              noWrap\r\n              className={classes.title}\r\n            >\r\n              {post.title ? post.title : \"untitled\"}\r\n            </Typography>\r\n            <div className={classes.cardBottom}>\r\n              <div className={classes.owner}>\r\n                <Person className={classes.personIcon} />{\" \"}\r\n                {this.props.post.owner}\r\n              </div>\r\n              <div className={classes.location}>\r\n                <Room className={classes.roomIcon} />{\" \"}\r\n                {this.props.post.cities\r\n                  ? Capitalize(this.props.post.cities)\r\n                  : \"\"}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </CardActionArea>\r\n      </Card>\r\n   \r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(PostPreview);\r\n"]},"metadata":{},"sourceType":"module"}