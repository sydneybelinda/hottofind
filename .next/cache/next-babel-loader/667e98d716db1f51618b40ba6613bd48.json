{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\src\\\\hottofindtest\\\\pages\\\\profile.js\";\nvar __jsx = React.createElement;\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport fetch from \"isomorphic-unfetch\";\nimport nextCookie from \"next-cookies\";\nimport Router from \"next/router\";\nimport React from \"react\";\nimport Layout from \"../components/layout\";\nimport StatTable from \"../components/statTable\";\nimport { withAuthSync } from \"../utils/auth\";\nimport getHost from \"../utils/get-host\";\nvar meta = [];\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbar: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n    toolbarTitle: {\n      flex: 1\n    },\n    toolbarSecondary: {\n      justifyContent: \"space-between\",\n      overflowX: \"auto\"\n    },\n    toolbarLink: {\n      padding: theme.spacing(1),\n      flexShrink: 0\n    },\n    sitename: _defineProperty({\n      fontSize: \"46px\",\n      lineHeight: \"40px\",\n      marginBottom: \"0\"\n    }, theme.breakpoints.down(\"md\"), {\n      fontSize: \"30px\",\n      lineHeight: \"35px\"\n    }),\n    mainFeaturedPost: {\n      position: \"relative\",\n      backgroundColor: theme.palette.grey[800],\n      color: theme.palette.common.white,\n      marginBottom: 0,\n      backgroundImage: \"url(https://source.unsplash.com/user/erondu)\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center\"\n    },\n    overlay: {\n      position: \"absolute\",\n      top: 0,\n      bottom: 0,\n      right: 0,\n      left: 0,\n      backgroundColor: \"rgba(0,0,0,.3)\"\n    },\n    mainFeaturedPostContent: _defineProperty({\n      position: \"relative\",\n      padding: theme.spacing(3)\n    }, theme.breakpoints.up(\"md\"), {\n      padding: theme.spacing(6),\n      paddingRight: 0\n    }),\n    mainGrid: {\n      marginTop: theme.spacing(3)\n    },\n    page: {\n      padding: \"20px 0\"\n    },\n    mainPic: {\n      height: \"50vh\",\n      textAlign: \"center\",\n      padding: \"20px\",\n      \"& img\": {\n        height: \"100%\",\n        width: \"auto\",\n        borderRadius: \"0.5rem\"\n      }\n    },\n    stats: {\n      paddingBottom: \"20px\",\n      maxWidth: \"800px\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  };\n});\n\nvar Profile = function Profile(props) {\n  var _props$data = props.data,\n      username = _props$data.username,\n      email = _props$data.email,\n      name = _props$data.name,\n      login = _props$data.login,\n      bio = _props$data.bio,\n      avatar = _props$data.avatar;\n  var classes = useStyles();\n  var avatarUrl = '';\n  console.log(avatar);\n\n  if (avatar) {\n    avatarUrl = \"\".concat(URL, \"/uploadedimages/profile/\").concat(avatar);\n  } else {\n    avatarUrl = \"\".concat(URL, \"/uploadedimages/noimage.jpg\");\n  }\n\n  console.log(avatarUrl);\n  return __jsx(Layout, {\n    user: props.user,\n    categories: props.categories,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(Paper, {\n    className: classes.mainFeaturedPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, __jsx(Container, {\n    maxWidth: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    style: {\n      display: \"none\"\n    },\n    src: \"https://source.unsplash.com/user/erondu\",\n    alt: \"background\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: classes.overlay,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), __jsx(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    md: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.mainFeaturedPostContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: classes.sitename,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, username), __jsx(\"p\", {\n    className: classes.subtext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \" \")))))), __jsx(Container, {\n    maxWidth: \"xl\",\n    className: classes.cont,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.page,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, __jsx(Paper, {\n    className: classes.table,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.mainPic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: avatarUrl,\n    alt: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: classes.stats,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, __jsx(StatTable, {\n    data: props.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })))))) // <Layout user={props.user} categories={props.categories} meta={meta}>\n  //    <img src={avatar} alt={name} />\n  //   <h1>{name}</h1>\n  //   <p className='lead'>{login}</p>\n  //   <p>{bio}</p>\n  //   <style jsx>{`\n  //     img {\n  //       max-width: 200px;\n  //       border-radius: 0.5rem;\n  //     }\n  //     h1 {\n  //       margin-bottom: 0;\n  //     }\n  //     .lead {\n  //       margin-top: 0;\n  //       font-size: 1.5rem;\n  //       font-weight: 300;\n  //       color: #666;\n  //     }\n  //     p {\n  //       color: #6a737d;\n  //     }\n  //   `}</style>\n  // </Layout>\n  ;\n};\n\nProfile.getInitialProps = function _callee(ctx) {\n  var _nextCookie, token, apiUrl, redirectOnError, response, js;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _nextCookie = nextCookie(ctx), token = _nextCookie.token;\n          apiUrl = getHost(ctx.req) + \"/api/profile\";\n\n          redirectOnError = function redirectOnError() {\n            return true ? Router.push(\"/login\") : ctx.res.writeHead(302, {\n              Location: \"/login\"\n            }).end();\n          };\n\n          _context.prev = 3;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(fetch(apiUrl, {\n            credentials: \"include\",\n            headers: {\n              // Authorization: JSON.stringify({ token })\n              Authorization: token\n            }\n          }));\n\n        case 6:\n          response = _context.sent;\n\n          if (!response.ok) {\n            _context.next = 15;\n            break;\n          }\n\n          _context.next = 10;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 10:\n          js = _context.sent;\n          console.log(\"js\", js);\n          return _context.abrupt(\"return\", js);\n\n        case 15:\n          _context.next = 17;\n          return _regeneratorRuntime.awrap(redirectOnError());\n\n        case 17:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 18:\n          _context.next = 23;\n          break;\n\n        case 20:\n          _context.prev = 20;\n          _context.t0 = _context[\"catch\"](3);\n          return _context.abrupt(\"return\", redirectOnError());\n\n        case 23:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[3, 20]]);\n};\n\nexport default withAuthSync(Profile);","map":{"version":3,"sources":["C:/src/hottofindtest/pages/profile.js"],"names":["Container","Grid","Paper","makeStyles","fetch","nextCookie","Router","React","Layout","StatTable","withAuthSync","getHost","meta","useStyles","theme","toolbar","borderBottom","palette","divider","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","toolbarLink","padding","spacing","flexShrink","sitename","fontSize","lineHeight","marginBottom","breakpoints","down","mainFeaturedPost","position","backgroundColor","grey","color","common","white","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","mainFeaturedPostContent","up","paddingRight","mainGrid","marginTop","page","mainPic","height","textAlign","width","borderRadius","stats","paddingBottom","maxWidth","marginLeft","marginRight","Profile","props","data","username","email","name","login","bio","avatar","classes","avatarUrl","console","log","URL","user","categories","display","subtext","cont","table","getInitialProps","ctx","token","apiUrl","req","redirectOnError","push","res","writeHead","Location","end","credentials","headers","Authorization","response","ok","json","js"],"mappings":"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","sourcesContent":["import Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport fetch from \"isomorphic-unfetch\";\nimport nextCookie from \"next-cookies\";\nimport Router from \"next/router\";\nimport React from \"react\";\nimport Layout from \"../components/layout\";\nimport StatTable from \"../components/statTable\";\nimport { withAuthSync } from \"../utils/auth\";\nimport getHost from \"../utils/get-host\";\n\nconst meta = [];\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  },\n  toolbarTitle: {\n    flex: 1\n  },\n  toolbarSecondary: {\n    justifyContent: \"space-between\",\n    overflowX: \"auto\"\n  },\n  toolbarLink: {\n    padding: theme.spacing(1),\n    flexShrink: 0\n  },\n  sitename: {\n    fontSize: \"46px\",\n    lineHeight: \"40px\",\n    marginBottom: \"0\",\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"30px\",\n      lineHeight: \"35px\"\n    }\n  },\n  mainFeaturedPost: {\n    position: \"relative\",\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white,\n    marginBottom: 0,\n    backgroundImage: \"url(https://source.unsplash.com/user/erondu)\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\"\n  },\n  overlay: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: \"rgba(0,0,0,.3)\"\n  },\n  mainFeaturedPostContent: {\n    position: \"relative\",\n    padding: theme.spacing(3),\n    [theme.breakpoints.up(\"md\")]: {\n      padding: theme.spacing(6),\n      paddingRight: 0\n    }\n  },\n  mainGrid: {\n    marginTop: theme.spacing(3)\n  },\n  page: {\n    padding: \"20px 0\"\n  },\n\n  mainPic: {\n    height: \"50vh\",\n    textAlign: \"center\",\n    padding: \"20px\",\n    \"& img\": {\n      height: \"100%\",\n      width: \"auto\",\n      borderRadius: \"0.5rem\"\n    }\n  },\n  stats: {\n    paddingBottom: \"20px\",\n    maxWidth: \"800px\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\"\n  }\n}));\n\nconst Profile = props => {\n  const { username, email, name, login, bio, avatar } = props.data;\n  const classes = useStyles();\n\n  let avatarUrl = ''\n\n  console.log(avatar)\n\n  if (avatar) {\n    avatarUrl = `${URL}/uploadedimages/profile/${avatar}`;\n  } else {\n    avatarUrl = `${URL}/uploadedimages/noimage.jpg`;\n  }\n\n  console.log(avatarUrl)\n\n\n  return (\n    <Layout user={props.user} categories={props.categories}>\n      {/* Main featured post */}\n      <Paper className={classes.mainFeaturedPost}>\n        <Container maxWidth=\"xl\">\n          {/* Increase the priority of the hero background image */}\n          {\n            <img\n              style={{ display: \"none\" }}\n              src=\"https://source.unsplash.com/user/erondu\"\n              alt=\"background\"\n            />\n          }\n          <div className={classes.overlay} />\n          <Grid container>\n            <Grid item md={6}>\n              <div className={classes.mainFeaturedPostContent}>\n                <h1 className={classes.sitename}>{username}</h1>\n                <p className={classes.subtext}> </p>\n              </div>\n            </Grid>\n          </Grid>\n        </Container>\n      </Paper>\n      {/* <Breadcrumbs\n        query={props.query}\n        categories={props.categories}\n      /> */}\n      {/* End main featured post */}\n      {/* Sub featured posts */}\n      <Container maxWidth=\"xl\" className={classes.cont}>\n        <div className={classes.page}>\n          <Paper className={classes.table} variant=\"outlined\">\n            <div className={classes.mainPic}>\n              <img src={avatarUrl} alt={name} />\n            </div>\n            <div className={classes.stats}>\n              <StatTable data={props.data} />\n            </div>\n          </Paper>\n        </div>\n      </Container>\n    </Layout>\n\n    // <Layout user={props.user} categories={props.categories} meta={meta}>\n    //    <img src={avatar} alt={name} />\n    //   <h1>{name}</h1>\n    //   <p className='lead'>{login}</p>\n    //   <p>{bio}</p>\n\n    //   <style jsx>{`\n    //     img {\n    //       max-width: 200px;\n    //       border-radius: 0.5rem;\n    //     }\n\n    //     h1 {\n    //       margin-bottom: 0;\n    //     }\n\n    //     .lead {\n    //       margin-top: 0;\n    //       font-size: 1.5rem;\n    //       font-weight: 300;\n    //       color: #666;\n    //     }\n\n    //     p {\n    //       color: #6a737d;\n    //     }\n    //   `}</style>\n    // </Layout>\n  );\n};\n\nProfile.getInitialProps = async ctx => {\n  const { token } = nextCookie(ctx);\n\n  const apiUrl = getHost(ctx.req) + \"/api/profile\";\n\n  const redirectOnError = () =>\n    typeof window !== \"undefined\"\n      ? Router.push(\"/login\")\n      : ctx.res.writeHead(302, { Location: \"/login\" }).end();\n\n  try {\n    const response = await fetch(apiUrl, {\n      credentials: \"include\",\n      headers: {\n        // Authorization: JSON.stringify({ token })\n        Authorization: token\n      }\n    });\n\n    if (response.ok) {\n      const js = await response.json();\n      console.log(\"js\", js);\n      return js;\n    } else {\n      // https://github.com/developit/unfetch#caveats\n      return await redirectOnError();\n    }\n  } catch (error) {\n    // Implementation or Network error\n    return redirectOnError();\n  }\n};\n\nexport default withAuthSync(Profile);\n"]},"metadata":{},"sourceType":"module"}