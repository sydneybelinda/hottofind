{"ast":null,"code":"import { Post } from '../../../../models';\nexport default (async (req, res) => {\n  const {\n    query: {\n      username\n    }\n  } = req;\n  let where = {\n    owner: username\n  };\n\n  try {\n    const posts = await Post.findAll({\n      where: where,\n      order: [['id', 'DESC']]\n    });\n\n    if (!posts) {\n      return res.status(404).send({\n        message: 'No posts found'\n      });\n    }\n\n    return res.status(200).send(posts);\n  } catch (err) {\n    console.log(err);\n    return res.status(500).send(err);\n  }\n});","map":{"version":3,"sources":["C:/src/hottofindtest/pages/api/posts/byuser/[username].js"],"names":["Post","req","res","query","username","where","owner","posts","findAll","order","status","send","message","err","console","log"],"mappings":"AAAA,SAASA,IAAT,QAAqB,oBAArB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AACJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AADH,MAEFH,GAFJ;AAIA,MAAII,KAAK,GAAG;AACVC,IAAAA,KAAK,EAAEF;AADG,GAAZ;;AAKA,MAAI;AACF,UAAMG,KAAK,GAAG,MAAMP,IAAI,CAACQ,OAAL,CAAa;AAC7BH,MAAAA,KAAK,EAAEA,KADsB;AAE7BI,MAAAA,KAAK,EAAE,CAAC,CAAC,IAAD,EAAO,MAAP,CAAD;AAFsB,KAAb,CAApB;;AAMA,QAAI,CAACF,KAAL,EAAY;AACV,aAAOL,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,QAAAA,OAAO,EAAE;AADiB,OAArB,CAAP;AAGD;;AAED,WAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBJ,KAArB,CAAP;AAED,GAfD,CAeE,OAAOM,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACF,WAAOX,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,GAArB,CAAP;AACD;AACF,CA7BD","sourcesContent":["import { Post } from '../../../../models';\r\n\r\nexport default async (req, res) => {\r\n  const {\r\n    query: { username },\r\n  } = req\r\n\r\n  let where = {\r\n    owner: username,\r\n  }\r\n\r\n\r\n  try {\r\n    const posts = await Post.findAll({\r\n        where: where,\r\n        order: [['id', 'DESC']]\r\n    });\r\n\r\n\r\n    if (!posts) {\r\n      return res.status(404).send({\r\n        message: 'No posts found',\r\n      });\r\n    }\r\n\r\n    return res.status(200).send(posts);\r\n\r\n  } catch (err) {\r\n      console.log(err)\r\n    return res.status(500).send(err);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}