{"ast":null,"code":"var fs = require(\"fs\");\n\nimport formidable from \"formidable\";\nexport default (async (req, res) => {\n  // for the pipe to work, we need to disable \"bodyParser\" (see below)\n  const form = new formidable.IncomingForm();\n  form.parse(req, function (err, fields, files) {\n    const uploadedFile = files.file.path;\n    const fileName = files.file.name;\n    fs.rename(uploadedFile, `public/uploadedimages/profile/${fileName}`, function (err) {\n      if (err) {\n        return res.status(500).send(err);\n      }\n\n      return res.status(200).send(`${fileName}`);\n    });\n  });\n});\nexport const config = {\n  api: {\n    bodyParser: false\n  }\n};","map":null,"metadata":{},"sourceType":"module"}