{"ast":null,"code":"import { File, Post } from \"../../../models\";\nexport default (async (req, res) => {\n  const {\n    query: {\n      countrycode\n    }\n  } = req;\n  let where = {\n    country: countrycode\n  };\n\n  try {\n    const posts = await Post.findAll({\n      where: where,\n      include: [{\n        model: File,\n        as: \"files\"\n      }],\n      order: [[\"createdAt\", \"DESC\"]],\n      limit: 100\n    });\n\n    if (!posts) {\n      return res.status(404).send({\n        message: \"404 posts\"\n      });\n    }\n\n    return res.status(200).send(posts); // return res.json({ categories });\n  } catch (err) {\n    console.log(err);\n    return res.status(500).send(err);\n  }\n});","map":null,"metadata":{},"sourceType":"module"}